package ToolsForTasks;


import java.io.BufferedReader;
import java.io.*;
import java.util.*;

public class JobList {
	 private static List<Job> jobs = new ArrayList<>();
	    private static final String FILE_NAME = "jobs.csv";
	    static Scanner scanner = new Scanner(System.in);

	    public JobList() {
	        loadFromFile();
	    }

	    public static void addJob() {
	    	System.out.println("Name: ");
	    	String name = scanner.nextLine();
	    	System.out.println("Description: ");
	    	String description = scanner.nextLine();
	    	
	        jobs.add(new Job(name, description));
	        saveToFile();
	    }

	    public void editJob() {
	      
	    }

	    public void deleteJob() {
	    }

	    public void searchJob() {
	    }

	    public void listJobs() {
	        for (Job job : jobs) {
	            System.out.println(job);
	        }
	    }

	    private void loadFromFile() {
	        try (BufferedReader br = new BufferedReader(new FileReader(FILE_NAME))) {
	            String line;
	            while ((line = br.readLine()) != null) {
	                String[] data = line.split(",");
	                jobs.add(new Job(data[0].trim(), data[1].trim()));
	            }
	        } catch (IOException ignored) {
	        }
	    }

	    private static void saveToFile() {
	        try (BufferedWriter bw = new BufferedWriter(new FileWriter(FILE_NAME))) {
	            for (Job job : jobs) {
	                bw.write(job.getTitle() + "," + job.getDescription());
	                bw.newLine();
	            }
	        } catch (IOException e) {
	            e.printStackTrace();
	        }
	    }
}
