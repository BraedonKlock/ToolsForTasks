package ToolsForTasks;
import java.io.*;
import java.util.*;

public class ToolList {
	static ArrayList<Tool> ToolList = new ArrayList<>();
    private static final String FILE_NAME = "tools.csv";

	static Scanner scanner = new Scanner(System.in);
	
	public static void addTool() {
		System.out.println("What is the name of the tool?: ");
		String name = scanner.nextLine();
		System.out.println("Enter Quantity: ");
		String quantity = scanner.nextLine();
		Tool tool = new Tool(name, quantity);
		ToolList.add(tool);
		saveToolList();
	}
	public static void editTool() {
		
	}
	
	public static void deleteTool() {
		
	}
	
	public static void searchTool() {
		
	}
	
	public static void listTool() {
		for (int i = 0; i <ToolList.size(); i++) {
			 for (Tool tool : ToolList) {
		            System.out.println(tool);
		        }
			
		}
	}
	
	 static void loadFromFile() {
	        try (BufferedReader br = new BufferedReader(new FileReader(FILE_NAME))) {
	            String line;
	            while ((line = br.readLine()) != null) {
	                String[] data = line.split(",");
	                ToolList.add(new Tool(data[0].trim(), data[1].trim()));
	            }
	        } catch (IOException ignored) {
	        }
	    }

	
	public static void saveToolList() 
	{

		 String fileName = "tools.csv";  // Directly set filename

	        try (BufferedWriter writer = new BufferedWriter(new FileWriter(fileName, false))) { // 'false' overwrites file
	            // Optional: Write CSV header
	            writer.write("ToolName,Quantity\n");  

	            for (Tool tool : ToolList) {
	                writer.write(tool.getName() + "," + tool.getQuantity() + "\n");
	            }

	            System.out.println("\n*** Tool list saved successfully: " + fileName + " ***\n");

	        } catch (IOException e) {
	            System.out.println("Error saving the tool list: " + e.getMessage());
	        }
	    }
}